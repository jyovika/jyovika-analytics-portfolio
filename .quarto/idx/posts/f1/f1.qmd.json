{"title":"Do Fast Pit Stops Win F1 Races - or Is It Just Hype?","markdown":{"yaml":{"title":"Do Fast Pit Stops Win F1 Races - or Is It Just Hype?","date":"2025-11-30","categories":["R","Data Analysis","Visualisation","Formula1"],"image":"f1-banner.jpg","title-block-banner":"f1-banner.jpg","description":"An R-powered exploration of Formula 1 performance, lap times, and insights."},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\nIn Formula One, every tenth of a second is sacred. Commentators often claim that pit stops decide races, but how much does a second actually matter? Does an extra moment in the pit lane truly push a driver down the finishing order, or is the fear larger than the effect?\n\nI analysed pit-stop timing and race results across four seasons. My goal was simple. I wanted to measure the cost of one lost second.\n\nThe results were not what I expected.\n\nFull code and reproducible scripts are available on GitHub\\\n\\> Link: <https://github.com/jyovika/jyovika-analytics-portfolio>\n\n::: callout-note\n### Data Source\n\n**Ergast Formula One Archive, 2011 to 2024**\n\nCSV data retrieved from the public developer database\\\n<http://ergast.com/mrd/db/>\n\n**Tools:** R, tidyverse, ggplot2, broom, boot\\\n**Licence:** Free for educational and non commercial projects\\\nMore info: <http://ergast.com/mrd/terms/>\n:::\n\n```{r, setup, message=FALSE, echo=FALSE}\n## Libraries\nset.seed(44)\nlibrary(tidyverse)\nlibrary(broom)     \nlibrary(rsample) \nlibrary(kableExtra)\nlibrary(knitr)\n\nteam_palette <- c(\n  \"Red Bull\"              = \"#F94144\",\n  \"Ferrari\"               = \"#F3722C\",\n  \"Mercedes\"              = \"#F8961E\",\n  \"McLaren\"               = \"#F9844A\",\n  \"Racing Point/Aston Martin\" = \"#F9C74F\",\n  \"Williams\"              = \"#90BE6D\",\n  \"Lotus/Renault/Alpine\"  = \"#43AA8B\",\n  \"AlphaTauri/Toro Rosso/RB\" = \"#4D908E\",\n  \"Haas F1 Team\"          = \"#577590\",\n  \"Sauber/Alfa Romeo\"     = \"#277DA1\",\n  \"Force India\"           = \"#22577A\",\n  \"Manor/Marussia\"        = \"#9C89B8\",\n  \"HRT\"                   = \"#7E6B8F\",\n  \"Virgin\"                = \"#5A4D7C\")\n```\n\n```{r, load_data, message=FALSE, echo=FALSE}\n## Load data\npitstops_df <- read.csv(here::here(\"data/f1/pit_stops.csv\"))\n\nresults_df <- read.csv(here::here(\"data/f1/results.csv\"))\n\nrace_df <- read.csv(here::here(\"data/f1/races.csv\"))\n\ndriver_df <- read.csv(here::here(\"data/f1/drivers.csv\"))\n\nconstructor_df <- read.csv(here::here(\"data/f1/constructors.csv\"))\n\nstatus_df <- read.csv(here::here(\"data/f1/status.csv\"))\n```\n\n```{r,data_processing, echo=FALSE}\n## Process data\ndrivers_lookup <- driver_df %>%\n      mutate(driver_full = paste(forename, surname)) %>%\n      select(driverId, driver_full)\n\nraces_lookup <- race_df %>%\n      mutate(race_full = paste(name, year)) %>%\n      select(raceId, race_full, year)\n\nconstructors_lookup <- constructor_df %>%\n      select(constructorId, constructor_name = name)\n    \ncombined_df <- pitstops_df %>%\n  left_join(drivers_lookup, by = \"driverId\") %>%\n  left_join(races_lookup, by = \"raceId\") %>%\n  left_join(\n    results_df %>%\n      select(raceId, driverId, constructorId, positionOrder, positionText, grid, statusId),\n    by = c(\"raceId\", \"driverId\")) %>%\n  \n  left_join(constructors_lookup, by = \"constructorId\") %>%\n  left_join(status_df, by = \"statusId\") %>%\n  filter(year %in% c(2011, 2015, 2019, 2024)) %>%\n  select(\n    driver = driver_full,\n    race = race_full,\n    year,\n    constructor = constructor_name,\n    stop,\n    lap,\n    duration,\n    milliseconds,\n    positionOrder,\n    grid,\n    status )\n\ncombined_2011 <- combined_df %>%\n  filter(year == 2011, milliseconds <= 50000)\n\ncombined_2015 <- combined_df %>%\n  filter(year == 2015, milliseconds <= 50000)\n\ncombined_2019 <- combined_df %>%\n  filter(year == 2019, milliseconds <= 50000)\n\ncombined_2024 <- combined_df %>%\n  filter(year == 2024, milliseconds <= 50000)\n```\n\n```{r,team_mapping, echo=FALSE}\n### Team mapping \nteam_map <- tribble(\n  ~name, ~team,\n  \"Ferrari\",              \"Ferrari\",\n  \"Mercedes\",             \"Mercedes\",\n  \"Red Bull\",             \"Red Bull\",\n  \"RB F1 Team\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"Toro Rosso\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"AlphaTauri\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"Williams\",             \"Williams\",\n  \"McLaren\",              \"McLaren\",\n  \"Lotus\",                \"Lotus/Renault/Alpine\",\n  \"Lotus F1\",             \"Lotus/Renault/Alpine\",\n  \"Renault\",              \"Lotus/Renault/Alpine\",\n  \"Alpine F1 Team\",       \"Lotus/Renault/Alpine\",\n  \"Sauber\",               \"Sauber/Alfa Romeo\",\n  \"Alfa Romeo\",           \"Sauber/Alfa Romeo\",\n  \"Manor Marussia\",       \"Manor/Marussia\",\n  \"Marussia\",             \"Manor/Marussia\",\n  \"Manor\",                \"Manor/Marussia\",\n  \"HRT\",                  \"HRT\",\n  \"Aston Martin\",         \"Racing Point/Aston Martin\",\n  \"Racing Point\",         \"Racing Point/Aston Martin\",\n  \"Haas F1 Team\",         \"Haas\",\n  \"Force India\",          \"Force India\",\n  \"Virgin\",               \"Virgin\")\n```\n\n## Exploratory analysis\n\n```{r, echo=FALSE}\ndriver_race_df <- combined_df %>%\n  mutate(\n    stop_sec = suppressWarnings(as.numeric(duration))) %>%\n  drop_na(stop_sec) %>%      \n  \n  group_by(year, race, driver, constructor, grid, positionOrder) %>%\n  summarise(\n    best_pit_sec = min(stop_sec, na.rm = TRUE),\n    avg_pit_sec  = mean(stop_sec, na.rm = TRUE),\n    n_stops      = n(),\n    .groups = \"drop\") %>%\n  \n  filter(best_pit_sec > 15, best_pit_sec < 60)%>%\n  \n  left_join(team_map, by = c(\"constructor\" = \"name\"))  %>%\n  mutate(team = ifelse(is.na(team), constructor, team))\n\n```\n\n```{r, echo=FALSE}\ndriver_race_df %>%\n  ggplot(aes(best_pit_sec)) +\n  \n  geom_density(\n    fill = \"#A3CEC8\",       \n    color = \"#2E7C73\",     \n    linewidth = 1.2,\n    alpha = 0.6\n    ) +\n  \n  labs(\n    title = \"Complete pit lane time distribution\",\n    subtitle = \"Most pit cycles fall between 18 and 30 seconds\",\n    x = \"Total pit lane time (seconds)\",\n    y = \"Density\"\n    ) +\n  \n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    axis.text   = element_text(color = \"#4A675A\"),\n    \n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    \n    plot.margin = margin(10,10,10,10))\n\n```\n\nMost full pit cycles range from 18 to 30 seconds. Anything above 35 seconds usually signals damage, a hold at the release, a penalty or time lost behind cars entering or leaving the pits.\n\n## Regression: How much does a second cost?\n\n```{r, regression_table, warning=FALSE, echo=FALSE,message=FALSE}\n\nmodel_f1 <- lm( positionOrder ~ best_pit_sec + grid + constructor, \n                data = driver_race_df)\n\ntidy(model_f1, conf.int = TRUE) %>%\n  filter(term %in% c(\"best_pit_sec\", \"grid\")) %>%\n  select(term, estimate, conf.low, conf.high, p.value) %>%\n  kable(\n    caption = \"Regression coefficients for pit time and grid position (base model)\",\n    col.names = c(\"Variable\",\"Estimate\",\"Lower 95%\",\"Upper 95%\",\"p-value\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\",\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n```\n\n```{r, regression_plot, echo=FALSE, warning=FALSE, message=FALSE}\ndriver_race_df %>%\n  ggplot(aes(best_pit_sec, positionOrder)) +\n  \n  geom_point(alpha = 0.28, size = 1.3) +\n  \n  geom_smooth(\n    method = \"lm\",\n    se = TRUE,\n    color = \"#2E7C73\",          \n    fill  = \"#A3CEC8\",           \n    linewidth = 1.35\n    ) +\n  \n  scale_x_continuous(\n    breaks = seq(20, 60, by = 5),\n    limits = c(18, 62),\n    expand = expansion(mult = c(0.01, 0.03))\n    ) +\n  scale_y_reverse(\n    breaks = seq(0, 20, by = 2),\n    expand = expansion(mult = c(0.02, 0.05))\n    ) +\n  \n  labs(\n    title = \"Slower pit stops drag drivers backwards\",\n    subtitle = \"Relationship between total pit time and finishing position\",\n    x = \"Total pit time (seconds)\",\n    y = \"Finishing position (P1 at top)\",\n    caption = \"R² ~0.52 | fitted with finishing position ~ pit time + grid + constructor\"\n    ) +\n  \n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    plot.caption = element_text(hjust = 0, size = 9, colour = \"#557A73\"),\n    \n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    \n    axis.text = element_text(color = \"#4A675A\"),\n    plot.margin = margin(10,10,10,10))\n\n\n```\n\nThe regression shows that each extra second in the pit lane worsens finishing position by about 0.08 places on average. Slow stops therefore matter, but not in an explosive way. A delay of two or three seconds rarely destroys a race, but the effect compounds across a season.\n\nSmall losses are harmless alone. Repeated losses change outcomes. A quarter of a place here and half a place there becomes the difference between a podium and fourth, or between finishing in the points and missing out.\n\nBy comparison, grid position has a far stronger effect. Starting one place further back costs nearly half a finishing position. Pit time matters, but track position matters more.\n\n## Bootstrapping to verify the trend\n\n```{r bootstrap, results='hide', echo=FALSE}\nn_boot <- 1000\nn <- nrow(driver_race_df)\n\nboot_results <- map_dfr(1:n_boot, function(i) {\n  sample_df <- driver_race_df %>% slice_sample(n = n, replace = TRUE)\n  \n  m <- lm(positionOrder ~ best_pit_sec + grid + constructor, data = sample_df)\n  \n  tibble(\n    id = i,\n    beta_pit = coef(m)[\"best_pit_sec\"])\n})\n```\n\n```{r bootstrap_summary, echo=FALSE}\nboot_results %>%\n  summarise(\n    mean_est = mean(beta_pit, na.rm = TRUE),\n    ci_low = quantile(beta_pit, 0.025, na.rm = TRUE),\n    ci_high = quantile(beta_pit, 0.975, na.rm = TRUE)\n  ) %>%\n  kable(\n    caption = \"Bootstrap estimate for pit time effect with 95 percent interval\",\n    col.names = c(\"Mean Estimate\",\"Lower 95%\",\"Upper 95%\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n```\n\n```{r bootstrap_plot, echo=FALSE}\nboot_results %>%\n  ggplot(aes(beta_pit)) +\n  \n  geom_histogram(\n  bins = 40,\n  fill = \"#A3CEC8\",\n  color = \"#35524A\",\n  alpha = 0.73\n  ) +\n  geom_vline(\n  aes(xintercept = mean(beta_pit)),\n  color = \"#E57F84\",    \n  linewidth = 1.4\n  ) +\n  labs(\n    title = \"Bootstrap distribution of pit stop impact\",\n    subtitle = \"Coefficient estimates for pit time from 1000 resamples\",\n    x = \"Coefficient for pit time (positions lost per second)\",\n    y = \"Frequency\"\n    ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    plot.caption = element_text(hjust = 0, size = 9),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    axis.text   = element_text(color = \"#4A675A\"),\n    \n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    panel.grid.major.x = element_blank())\n\n```\n\nBootstrapping confirms that the effect is stable. The average value is around 0.08, with a confidence range near 0.05 to 0.11. Nearly every resampled model returned a positive relationship. Slow pit stops consistently push drivers downward.\n\n## Does the effect change over time?\n\n```{r season_models, echo=FALSE}\nseason_effects <- driver_race_df %>%\n  group_by(year) %>%\n  do({\n    m <- lm(positionOrder ~ best_pit_sec + grid, data = .)\n    tibble(\n      beta_pit = coef(m)[\"best_pit_sec\"],\n      beta_grid = coef(m)[\"grid\"])\n  })\n\nseason_effects %>%\n  kable(\n    caption = \"Regression coefficients by season for pit stop time and grid position\",\n    col.names = c(\"Season\", \"Pit Effect\", \"Grid Effect\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\")\n    ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\", \"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n    ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n\n```\n\n```{r season_plot, echo=FALSE}\n\nseason_effects %>%\n  ggplot(aes(x = factor(year), y = beta_pit, group = 1)) +\n\n  geom_area(fill = \"#A3CEC8\", alpha = 0.35) +\n\n  geom_line(color = \"#2E7C73\", linewidth = 1.6) +\n\n  geom_point(size = 4,\n             color = \"#2E7C73\", fill = \"white\",\n             shape = 21, stroke = 1.2) +\n  labs(\n    title = \"How costly is pit-lane time across seasons?\",\n    subtitle = \"Coefficient = finishing positions lost per extra second in the lane\",\n    x = \"Season\",\n    y = \"Positions lost per second\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16, color = \"#2E7C73\"),\n    plot.subtitle = element_text(margin = margin(b = 10), color = \"#35524A\"),\n    axis.title.x = element_text(margin = margin(t = 6), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 6), color = \"#35524A\"),\n    axis.text = element_text(color = \"#4A675A\"),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    plot.margin = margin(10,10,10,10))\n```\n\nIn 2011, a single second was costly and often race damaging. By 2015, the effect had softened, which reflects increased operational consistency and a wider field spread. From 2019 onward, the influence sits around 0.10 to 0.15, small on paper but significant when margins are measured in tenths. One second used to break a race. Today it dents it. In a tight field, even dents matter.\n\n## Which teams suffer most?\n\n```{r, echo=FALSE}\nteam_sensitivity <- driver_race_df %>%\n  group_by(team) %>%\n  summarise(\n    correlation = cor(best_pit_sec, positionOrder, use = \"complete.obs\")\n  ) %>%\n  arrange(desc(correlation))\n\nteam_sensitivity %>%\n  kable(\n    caption = \"Correlation between pit stop time and finishing position by team\",\n    col.names = c(\"Team\",\"Correlation\"),\n    digits = 5,\n    align = c(\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")%>% \n  scroll_box(height = \"300px\") \n\n```\n\n<br>\n\n```{r, echo=FALSE}\nteam_sensitivity %>%\n  mutate(team = fct_reorder(team, correlation)) %>%\n  ggplot(aes(x = team, y = correlation, fill = team)) +\n  geom_col() +\n  scale_fill_manual(values = team_palette) +\n  coord_flip(clip = \"off\") +\n  labs(\n    title = \"Which teams suffer most from slow pit stops?\",\n    subtitle = \"Correlation between pit time and finishing position\",\n    x = \"Constructor\",\n    y = \"Sensitivity to pit stop time\") +\n  theme_minimal(base_size = 13) +\n  theme(\n    axis.text.y = element_text(size = 11, face=\"bold\", colour=\"#35524A\"),\n    plot.title   = element_text(face = \"bold\"),\n    axis.title.y = element_text(face = \"bold\"),\n    panel.grid.minor = element_blank(),\n    legend.position  = \"none\")\n\n```\n\nNot every team pays the same price for a slow stop.\n\nMidfield and backmarker teams such as Haas, Force India and Manor or Marussia tend to lose the most. When they fall behind, they often lack the pace to recover.\n\nTop teams like Red Bull, Ferrari and Mercedes are more resilient. A slow stop hurts, but strong race pace lets them fight back. A delay becomes a setback, not a death sentence.\n\nSlow stops do not destroy the fast. They destroy the fragile.\n\n::: {.callout-note collapse=\"true\"}\n### Reproducibility and code access\n\nThis analysis is fully reproducible.\\\nAll scripts for data loading, cleaning, joining, modelling and visualisation are available here:\n\n**GitHub repository:** <https://github.com/jyovika/jyovika-analytics-portfolio>\n\nContents include:\\\n• Data preparation code\\\n• Regression and bootstrap models\\\n• Seasonal and constructor analysis\\\n• All plots and report scripts\\\n• Outputs and figures\n\nYou are welcome to explore, fork or extend the analysis.\n:::\n\n## Conclusion\n\nPit stops matter, but not always in the dramatic way commentary suggests. One second typically costs less than a tenth of a finishing place but the impact becomes powerful when repeated across races, seasons or drivers.\n\nGrid position remains the strongest determinant of outcome and race pace is the engine of everything. Pit crews are not out to perform miracles, they are fighting to avoid thousands of small cuts.\n\nIn Formula One, fractions are currency, and pit time is one of them.\n","srcMarkdownNoYaml":"\n\n## Introduction\n\nIn Formula One, every tenth of a second is sacred. Commentators often claim that pit stops decide races, but how much does a second actually matter? Does an extra moment in the pit lane truly push a driver down the finishing order, or is the fear larger than the effect?\n\nI analysed pit-stop timing and race results across four seasons. My goal was simple. I wanted to measure the cost of one lost second.\n\nThe results were not what I expected.\n\nFull code and reproducible scripts are available on GitHub\\\n\\> Link: <https://github.com/jyovika/jyovika-analytics-portfolio>\n\n::: callout-note\n### Data Source\n\n**Ergast Formula One Archive, 2011 to 2024**\n\nCSV data retrieved from the public developer database\\\n<http://ergast.com/mrd/db/>\n\n**Tools:** R, tidyverse, ggplot2, broom, boot\\\n**Licence:** Free for educational and non commercial projects\\\nMore info: <http://ergast.com/mrd/terms/>\n:::\n\n```{r, setup, message=FALSE, echo=FALSE}\n## Libraries\nset.seed(44)\nlibrary(tidyverse)\nlibrary(broom)     \nlibrary(rsample) \nlibrary(kableExtra)\nlibrary(knitr)\n\nteam_palette <- c(\n  \"Red Bull\"              = \"#F94144\",\n  \"Ferrari\"               = \"#F3722C\",\n  \"Mercedes\"              = \"#F8961E\",\n  \"McLaren\"               = \"#F9844A\",\n  \"Racing Point/Aston Martin\" = \"#F9C74F\",\n  \"Williams\"              = \"#90BE6D\",\n  \"Lotus/Renault/Alpine\"  = \"#43AA8B\",\n  \"AlphaTauri/Toro Rosso/RB\" = \"#4D908E\",\n  \"Haas F1 Team\"          = \"#577590\",\n  \"Sauber/Alfa Romeo\"     = \"#277DA1\",\n  \"Force India\"           = \"#22577A\",\n  \"Manor/Marussia\"        = \"#9C89B8\",\n  \"HRT\"                   = \"#7E6B8F\",\n  \"Virgin\"                = \"#5A4D7C\")\n```\n\n```{r, load_data, message=FALSE, echo=FALSE}\n## Load data\npitstops_df <- read.csv(here::here(\"data/f1/pit_stops.csv\"))\n\nresults_df <- read.csv(here::here(\"data/f1/results.csv\"))\n\nrace_df <- read.csv(here::here(\"data/f1/races.csv\"))\n\ndriver_df <- read.csv(here::here(\"data/f1/drivers.csv\"))\n\nconstructor_df <- read.csv(here::here(\"data/f1/constructors.csv\"))\n\nstatus_df <- read.csv(here::here(\"data/f1/status.csv\"))\n```\n\n```{r,data_processing, echo=FALSE}\n## Process data\ndrivers_lookup <- driver_df %>%\n      mutate(driver_full = paste(forename, surname)) %>%\n      select(driverId, driver_full)\n\nraces_lookup <- race_df %>%\n      mutate(race_full = paste(name, year)) %>%\n      select(raceId, race_full, year)\n\nconstructors_lookup <- constructor_df %>%\n      select(constructorId, constructor_name = name)\n    \ncombined_df <- pitstops_df %>%\n  left_join(drivers_lookup, by = \"driverId\") %>%\n  left_join(races_lookup, by = \"raceId\") %>%\n  left_join(\n    results_df %>%\n      select(raceId, driverId, constructorId, positionOrder, positionText, grid, statusId),\n    by = c(\"raceId\", \"driverId\")) %>%\n  \n  left_join(constructors_lookup, by = \"constructorId\") %>%\n  left_join(status_df, by = \"statusId\") %>%\n  filter(year %in% c(2011, 2015, 2019, 2024)) %>%\n  select(\n    driver = driver_full,\n    race = race_full,\n    year,\n    constructor = constructor_name,\n    stop,\n    lap,\n    duration,\n    milliseconds,\n    positionOrder,\n    grid,\n    status )\n\ncombined_2011 <- combined_df %>%\n  filter(year == 2011, milliseconds <= 50000)\n\ncombined_2015 <- combined_df %>%\n  filter(year == 2015, milliseconds <= 50000)\n\ncombined_2019 <- combined_df %>%\n  filter(year == 2019, milliseconds <= 50000)\n\ncombined_2024 <- combined_df %>%\n  filter(year == 2024, milliseconds <= 50000)\n```\n\n```{r,team_mapping, echo=FALSE}\n### Team mapping \nteam_map <- tribble(\n  ~name, ~team,\n  \"Ferrari\",              \"Ferrari\",\n  \"Mercedes\",             \"Mercedes\",\n  \"Red Bull\",             \"Red Bull\",\n  \"RB F1 Team\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"Toro Rosso\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"AlphaTauri\",           \"AlphaTauri/Toro Rosso/RB\",\n  \"Williams\",             \"Williams\",\n  \"McLaren\",              \"McLaren\",\n  \"Lotus\",                \"Lotus/Renault/Alpine\",\n  \"Lotus F1\",             \"Lotus/Renault/Alpine\",\n  \"Renault\",              \"Lotus/Renault/Alpine\",\n  \"Alpine F1 Team\",       \"Lotus/Renault/Alpine\",\n  \"Sauber\",               \"Sauber/Alfa Romeo\",\n  \"Alfa Romeo\",           \"Sauber/Alfa Romeo\",\n  \"Manor Marussia\",       \"Manor/Marussia\",\n  \"Marussia\",             \"Manor/Marussia\",\n  \"Manor\",                \"Manor/Marussia\",\n  \"HRT\",                  \"HRT\",\n  \"Aston Martin\",         \"Racing Point/Aston Martin\",\n  \"Racing Point\",         \"Racing Point/Aston Martin\",\n  \"Haas F1 Team\",         \"Haas\",\n  \"Force India\",          \"Force India\",\n  \"Virgin\",               \"Virgin\")\n```\n\n## Exploratory analysis\n\n```{r, echo=FALSE}\ndriver_race_df <- combined_df %>%\n  mutate(\n    stop_sec = suppressWarnings(as.numeric(duration))) %>%\n  drop_na(stop_sec) %>%      \n  \n  group_by(year, race, driver, constructor, grid, positionOrder) %>%\n  summarise(\n    best_pit_sec = min(stop_sec, na.rm = TRUE),\n    avg_pit_sec  = mean(stop_sec, na.rm = TRUE),\n    n_stops      = n(),\n    .groups = \"drop\") %>%\n  \n  filter(best_pit_sec > 15, best_pit_sec < 60)%>%\n  \n  left_join(team_map, by = c(\"constructor\" = \"name\"))  %>%\n  mutate(team = ifelse(is.na(team), constructor, team))\n\n```\n\n```{r, echo=FALSE}\ndriver_race_df %>%\n  ggplot(aes(best_pit_sec)) +\n  \n  geom_density(\n    fill = \"#A3CEC8\",       \n    color = \"#2E7C73\",     \n    linewidth = 1.2,\n    alpha = 0.6\n    ) +\n  \n  labs(\n    title = \"Complete pit lane time distribution\",\n    subtitle = \"Most pit cycles fall between 18 and 30 seconds\",\n    x = \"Total pit lane time (seconds)\",\n    y = \"Density\"\n    ) +\n  \n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    axis.text   = element_text(color = \"#4A675A\"),\n    \n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    \n    plot.margin = margin(10,10,10,10))\n\n```\n\nMost full pit cycles range from 18 to 30 seconds. Anything above 35 seconds usually signals damage, a hold at the release, a penalty or time lost behind cars entering or leaving the pits.\n\n## Regression: How much does a second cost?\n\n```{r, regression_table, warning=FALSE, echo=FALSE,message=FALSE}\n\nmodel_f1 <- lm( positionOrder ~ best_pit_sec + grid + constructor, \n                data = driver_race_df)\n\ntidy(model_f1, conf.int = TRUE) %>%\n  filter(term %in% c(\"best_pit_sec\", \"grid\")) %>%\n  select(term, estimate, conf.low, conf.high, p.value) %>%\n  kable(\n    caption = \"Regression coefficients for pit time and grid position (base model)\",\n    col.names = c(\"Variable\",\"Estimate\",\"Lower 95%\",\"Upper 95%\",\"p-value\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\",\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n```\n\n```{r, regression_plot, echo=FALSE, warning=FALSE, message=FALSE}\ndriver_race_df %>%\n  ggplot(aes(best_pit_sec, positionOrder)) +\n  \n  geom_point(alpha = 0.28, size = 1.3) +\n  \n  geom_smooth(\n    method = \"lm\",\n    se = TRUE,\n    color = \"#2E7C73\",          \n    fill  = \"#A3CEC8\",           \n    linewidth = 1.35\n    ) +\n  \n  scale_x_continuous(\n    breaks = seq(20, 60, by = 5),\n    limits = c(18, 62),\n    expand = expansion(mult = c(0.01, 0.03))\n    ) +\n  scale_y_reverse(\n    breaks = seq(0, 20, by = 2),\n    expand = expansion(mult = c(0.02, 0.05))\n    ) +\n  \n  labs(\n    title = \"Slower pit stops drag drivers backwards\",\n    subtitle = \"Relationship between total pit time and finishing position\",\n    x = \"Total pit time (seconds)\",\n    y = \"Finishing position (P1 at top)\",\n    caption = \"R² ~0.52 | fitted with finishing position ~ pit time + grid + constructor\"\n    ) +\n  \n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    plot.caption = element_text(hjust = 0, size = 9, colour = \"#557A73\"),\n    \n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    \n    axis.text = element_text(color = \"#4A675A\"),\n    plot.margin = margin(10,10,10,10))\n\n\n```\n\nThe regression shows that each extra second in the pit lane worsens finishing position by about 0.08 places on average. Slow stops therefore matter, but not in an explosive way. A delay of two or three seconds rarely destroys a race, but the effect compounds across a season.\n\nSmall losses are harmless alone. Repeated losses change outcomes. A quarter of a place here and half a place there becomes the difference between a podium and fourth, or between finishing in the points and missing out.\n\nBy comparison, grid position has a far stronger effect. Starting one place further back costs nearly half a finishing position. Pit time matters, but track position matters more.\n\n## Bootstrapping to verify the trend\n\n```{r bootstrap, results='hide', echo=FALSE}\nn_boot <- 1000\nn <- nrow(driver_race_df)\n\nboot_results <- map_dfr(1:n_boot, function(i) {\n  sample_df <- driver_race_df %>% slice_sample(n = n, replace = TRUE)\n  \n  m <- lm(positionOrder ~ best_pit_sec + grid + constructor, data = sample_df)\n  \n  tibble(\n    id = i,\n    beta_pit = coef(m)[\"best_pit_sec\"])\n})\n```\n\n```{r bootstrap_summary, echo=FALSE}\nboot_results %>%\n  summarise(\n    mean_est = mean(beta_pit, na.rm = TRUE),\n    ci_low = quantile(beta_pit, 0.025, na.rm = TRUE),\n    ci_high = quantile(beta_pit, 0.975, na.rm = TRUE)\n  ) %>%\n  kable(\n    caption = \"Bootstrap estimate for pit time effect with 95 percent interval\",\n    col.names = c(\"Mean Estimate\",\"Lower 95%\",\"Upper 95%\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n```\n\n```{r bootstrap_plot, echo=FALSE}\nboot_results %>%\n  ggplot(aes(beta_pit)) +\n  \n  geom_histogram(\n  bins = 40,\n  fill = \"#A3CEC8\",\n  color = \"#35524A\",\n  alpha = 0.73\n  ) +\n  geom_vline(\n  aes(xintercept = mean(beta_pit)),\n  color = \"#E57F84\",    \n  linewidth = 1.4\n  ) +\n  labs(\n    title = \"Bootstrap distribution of pit stop impact\",\n    subtitle = \"Coefficient estimates for pit time from 1000 resamples\",\n    x = \"Coefficient for pit time (positions lost per second)\",\n    y = \"Frequency\"\n    ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15, color = \"#2E7C73\"),\n    plot.subtitle = element_text(size = 11, margin = margin(b = 6), color = \"#35524A\"),\n    plot.caption = element_text(hjust = 0, size = 9),\n    \n    axis.title.x = element_text(margin = margin(t = 8), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 8), color = \"#35524A\"),\n    axis.text   = element_text(color = \"#4A675A\"),\n    \n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    panel.grid.major.x = element_blank())\n\n```\n\nBootstrapping confirms that the effect is stable. The average value is around 0.08, with a confidence range near 0.05 to 0.11. Nearly every resampled model returned a positive relationship. Slow pit stops consistently push drivers downward.\n\n## Does the effect change over time?\n\n```{r season_models, echo=FALSE}\nseason_effects <- driver_race_df %>%\n  group_by(year) %>%\n  do({\n    m <- lm(positionOrder ~ best_pit_sec + grid, data = .)\n    tibble(\n      beta_pit = coef(m)[\"best_pit_sec\"],\n      beta_grid = coef(m)[\"grid\"])\n  })\n\nseason_effects %>%\n  kable(\n    caption = \"Regression coefficients by season for pit stop time and grid position\",\n    col.names = c(\"Season\", \"Pit Effect\", \"Grid Effect\"),\n    digits = 5,\n    align = c(\"c\",\"c\",\"c\")\n    ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\", \"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n    ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")\n\n\n```\n\n```{r season_plot, echo=FALSE}\n\nseason_effects %>%\n  ggplot(aes(x = factor(year), y = beta_pit, group = 1)) +\n\n  geom_area(fill = \"#A3CEC8\", alpha = 0.35) +\n\n  geom_line(color = \"#2E7C73\", linewidth = 1.6) +\n\n  geom_point(size = 4,\n             color = \"#2E7C73\", fill = \"white\",\n             shape = 21, stroke = 1.2) +\n  labs(\n    title = \"How costly is pit-lane time across seasons?\",\n    subtitle = \"Coefficient = finishing positions lost per extra second in the lane\",\n    x = \"Season\",\n    y = \"Positions lost per second\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16, color = \"#2E7C73\"),\n    plot.subtitle = element_text(margin = margin(b = 10), color = \"#35524A\"),\n    axis.title.x = element_text(margin = margin(t = 6), color = \"#35524A\"),\n    axis.title.y = element_text(margin = margin(r = 6), color = \"#35524A\"),\n    axis.text = element_text(color = \"#4A675A\"),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = \"#DDE7E4\", linewidth = 0.3),\n    plot.margin = margin(10,10,10,10))\n```\n\nIn 2011, a single second was costly and often race damaging. By 2015, the effect had softened, which reflects increased operational consistency and a wider field spread. From 2019 onward, the influence sits around 0.10 to 0.15, small on paper but significant when margins are measured in tenths. One second used to break a race. Today it dents it. In a tight field, even dents matter.\n\n## Which teams suffer most?\n\n```{r, echo=FALSE}\nteam_sensitivity <- driver_race_df %>%\n  group_by(team) %>%\n  summarise(\n    correlation = cor(best_pit_sec, positionOrder, use = \"complete.obs\")\n  ) %>%\n  arrange(desc(correlation))\n\nteam_sensitivity %>%\n  kable(\n    caption = \"Correlation between pit stop time and finishing position by team\",\n    col.names = c(\"Team\",\"Correlation\"),\n    digits = 5,\n    align = c(\"c\",\"c\")\n  ) %>%\n  kable_styling(\n    bootstrap_options = c(\"condensed\",\"striped\"),\n    full_width = FALSE,\n    position = \"center\",\n    font_size = 14\n  ) %>%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4F6D7A\")%>% \n  scroll_box(height = \"300px\") \n\n```\n\n<br>\n\n```{r, echo=FALSE}\nteam_sensitivity %>%\n  mutate(team = fct_reorder(team, correlation)) %>%\n  ggplot(aes(x = team, y = correlation, fill = team)) +\n  geom_col() +\n  scale_fill_manual(values = team_palette) +\n  coord_flip(clip = \"off\") +\n  labs(\n    title = \"Which teams suffer most from slow pit stops?\",\n    subtitle = \"Correlation between pit time and finishing position\",\n    x = \"Constructor\",\n    y = \"Sensitivity to pit stop time\") +\n  theme_minimal(base_size = 13) +\n  theme(\n    axis.text.y = element_text(size = 11, face=\"bold\", colour=\"#35524A\"),\n    plot.title   = element_text(face = \"bold\"),\n    axis.title.y = element_text(face = \"bold\"),\n    panel.grid.minor = element_blank(),\n    legend.position  = \"none\")\n\n```\n\nNot every team pays the same price for a slow stop.\n\nMidfield and backmarker teams such as Haas, Force India and Manor or Marussia tend to lose the most. When they fall behind, they often lack the pace to recover.\n\nTop teams like Red Bull, Ferrari and Mercedes are more resilient. A slow stop hurts, but strong race pace lets them fight back. A delay becomes a setback, not a death sentence.\n\nSlow stops do not destroy the fast. They destroy the fragile.\n\n::: {.callout-note collapse=\"true\"}\n### Reproducibility and code access\n\nThis analysis is fully reproducible.\\\nAll scripts for data loading, cleaning, joining, modelling and visualisation are available here:\n\n**GitHub repository:** <https://github.com/jyovika/jyovika-analytics-portfolio>\n\nContents include:\\\n• Data preparation code\\\n• Regression and bootstrap models\\\n• Seasonal and constructor analysis\\\n• All plots and report scripts\\\n• Outputs and figures\n\nYou are welcome to explore, fork or extend the analysis.\n:::\n\n## Conclusion\n\nPit stops matter, but not always in the dramatic way commentary suggests. One second typically costs less than a tenth of a finishing place but the impact becomes powerful when repeated across races, seasons or drivers.\n\nGrid position remains the strongest determinant of outcome and race pace is the engine of everything. Pit crews are not out to perform miracles, they are fighting to avoid thousands of small cuts.\n\nIn Formula One, fractions are currency, and pit time is one of them.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"include-in-header":["../../_meta.html"],"output-file":"f1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":"flatly","smooth-scroll":true,"anchor-sections":true,"sitemap":true,"rss":true,"open-graph":true,"twitter-card":true,"title-block-banner":"f1-banner.jpg","title":"Do Fast Pit Stops Win F1 Races - or Is It Just Hype?","date":"2025-11-30","categories":["R","Data Analysis","Visualisation","Formula1"],"image":"f1-banner.jpg","description":"An R-powered exploration of Formula 1 performance, lap times, and insights."},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}